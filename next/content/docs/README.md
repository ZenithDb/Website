# Docs

Welcome to Neon docs! This folder contains the source code of the [Neon docs](https://neon.tech/docs/).

## Basic information

1. Every single Markdown file in this folder will be turned into a docs page.
2. Folder and file names should follow kebab-case.
3. `slug` is generated based on the folder structure and file names inside this folder. In order to see page `slug`, you can [start](../../README.md#run-the-website) and build the project with `npm run build` command that will display all generated pages.
4. Page `path` is generated by combining [`DOCS_BASE_PATH`](../../src/constants/docs.js) and page `slug`.
5. There is no need to add `h1` to the page since it will be displayed automatically with the value from `title` field.

## Fields

Right now Markdown files accept the following fields:

1. `title` — title of the page (required)
2. `redirectFrom` — array of strings with paths to redirect from to the page, should start and end with a slash, e.g. `/docs/old-path/`
3. `isDraft` — flag that says the page is not ready yet. It won't appear in production but will appear in the development mode.
4. `enableTableOfContents` — flag that turns on the display of the outline for the page. The outline gets built out of second and third-level headings ([`h2`, `h3`]), thus appears as two-level nested max.
5. `ogImage` - the social preview image of the page.

> ⚠️ Please note that the project won't build if at least one of the Markdown files is missing a required field.

## Sidebar

Sidebar data is stored in the [sidebar.yaml](./sidebar.yaml) file.

### How to add a new category

In order to add a new category to the sidebar, add a new item to the top level array with keys `title` and `items`.

For example:

```diff
 - title: Category 1
   items:
     - title: Page 1
       slug: page-1
+- title: Category 2
+  items:
+    - title: Page 2
+      slug: page-2
```

### How to add a new subcategory

In order to add a new subcategory, add a new item to `items` array with keys `title` and `items` under specific category.

For example:

```diff
 - title: Category 1
   items:
     - title: Page 1
       slug: page-1
 - title: Category 2
   items:
     - title: Page 2
       slug: page-2
+    - title: Subcategory 1
+      items:
+        - title: Page 3
+          slug: page-3
```

### How to add a new page

In order to add a new page to the root level, add `slug` in the same level with `title`.

```diff yaml
 - title: Root page 1
   items:
     - title: Page 1
       slug: page-1
 - title: Root page 2
   items:
     - title: Page 2
       slug: page-2
+ - title: Root page 1
+   slug: root-page-1
+   items:
+     - title: Page 1
+       slug: page-1
+ - title: Root page 2
+   slug: root-page-2
+   items:
+     - title: Page 2
+       slug: page-2

```

In order to add new page under Category, add a new item to `items` array with keys `title` and `slug` under specific category or subcategory:

For example:

```diff yaml
 - title: Category 1
   items:
     - title: Page 1
       slug: page-1
 - title: Category 2
   items:
     - title: Page 2
       slug: page-2
    - title: Subcategory 1
      items:
        - title: Page 3
          slug: page-3
+       - title: Page 4
+         slug: page-4
+   - title: Page 5
+     slug: page-5
```

- `title` in the sidebar may differ from `title` in Markdown file.
- `slug` should always match page's slug.

### How to add a single page to doc sidebar

To add a single page <https://example.com/changelog> to the docs sidebar, add the boolean `isStandalone` to the first level of the list

- `title` in the sidebar may differ from `title` in Markdown file.
- `slug` should always match page's slug.
- `isStandalone` - the boolean for the single page in sidebar.

```diff yaml
+- title: Changelog
+  slug: changelog
+  isStandalone: true
 - title: Category 1
   items:
     - title: Page 1
       slug: page-1
 - title: Category 2
   items:
     - title: Page 2
       slug: page-2
    - title: Subcategory 1
      items:
        - title: Page 3
          slug: page-3
```

## Code blocks

All available languages for code blocks can be found [here](https://prismjs.com/index.html#supported-languages).

## Code Tabs

To display code tabs, wrap all pieces of code with `<CodeTabs></CodeTabs>` and write labels of code tabs in order:

````md
<CodeTabs labels={["Shell", "C++", "C#", "Java"]}>

```bash
#!/bin/bash
STR="Hello World!"
echo $STR
```

```c++
#include <iostream>

int main() {
    std::cout << "Hello World";
    return 0;
}
```

```csharp
namespace HelloWorld
{
    class Hello {
        static void Main(string[] args)
        {
            System.Console.WriteLine("Hello World");
        }
    }
}
```

```java
import java.io.*;

class GFG {
    public static void main (String[] args) {
       System.out.println("Hello World");
    }
}
```

</CodeTabs>
````

<details>
<summary>Examples</summary>

![Code tabs example](code-tabs-example.jpg)

</details>

## Admonition

To improve the documentation readability, one can leverage an Admonition custom component. Just wrap your piece of text with `<Admonition></Admonition>` and pass the type.

There are 5 types of Admonition: `note`, `important`, `tip`, `warning`, `info`; the default is `note`.

You may also specify an optional title with prop `title`.

Example:

```md
<Admonition type="note" title="Your title">
  The branch creation process does not increase load on the originating project. You can create a branch at any time without worrying about downtime or performance degradation.
</Admonition>

<Admonition type="info">
  The branch creation process does not increase load on the originating project. You can create a branch at any time without worrying about downtime or performance degradation.
</Admonition>
```

<details>
<summary>Examples</summary>

![Admonition example](admonition-example.jpg)

</details>

## Images

The images should be sourced in `public/docs` directory and be used in `.md` with the relative path, that begins with a `/` slash

Example file structure:

```md
├── public
│ ├── docs
│   ├── conceptual-guides
│     ├── neon_architecture_2.png // put images in a directory with the same name as the .md file
├── content
│ ├── docs
│   ├── conceptual-guides
│     ├── architecture-overview.md
```

Example content in `architecture-overview.md`:

```md
![Neon architecture diagram](/docs/conceptual-guides/neon_architecture_2.png)
```

With this approach, all images on your doc pages will be displayed both on the production and GitHub preview.

## Definition list

Custom `mdx` component that makes possible using [extended markdown syntax for descriptions lists](https://www.markdownguide.org/extended-syntax/#definition-lists). Fully [WCAG-compliant](https://www.w3.org/TR/WCAG20-TECHS/H40.html). It provides an accessible way to make term lists, and it's a generally good way to add structure to a text when a writer needs more than bullets and less than headings.

The usage is pretty [straightforward](https://github.com/neondatabase/website/pull/231/commits/8f795eaf700c31794a2267fc5978c22bfc649a0c):

```md
{/* other content here */}

<DefinitionList>
{/* required new line */}
Scenario executor
: First definition
: Second definition

Soak test
: First and only definition

Smoke test
Another term for smoke test
: First definition for both terms
: Second definition for both terms
: ...n definition for both terms

[Stress test](/)
: First and **only** definition for both terms with additional markup <br/> Read more: [link](/)

{/* other content here */}
</DefinitionList>

{/* other content here */}
```

### Acceptable markup for term

- `*italic*`
- `[link](/)`
- `**strong**` - but that doesn't make sense, by default terms appearance is already bold
- `inlineCode` - but it doesn't alter it's change in this context

### Constraints

- using emojis in `dt` is prohibited, as it potentially can mess up with `id` attribute, and `href` at anchor. We can not be sure which range will be used to display a particular symbol (depends on editor OS) and if it is going to be stripped.
- if there are multiple terms for a given set of descriptions, only the first one will have an `id` and an `anchor`
- make absolutely sure your `dt` text content is unique across the page to avoid `id` collisions

### Acceptable markup for description

- everything for term
- emojis
- any inline html
- line breaks `<br/>` (recommended way to separate visually something inside a single description)

<details>
<summary>Examples</summary>

![Definition list example](definition-list-example.jpg)

</details>

## Contributing

For small changes and spelling fixes, we recommend using the GitHub UI because Markdown files are relatively easy to edit.

For larger contributions, consider [running the project locally](../../README.md#getting-started) to see how changes look like before making a pull request.
